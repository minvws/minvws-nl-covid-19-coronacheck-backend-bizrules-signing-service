{"openapi": "3.0.2", "info": {"title": "FastAPI", "version": "0.1.0"}, "paths": {"/health": {"get": {"summary": "Health", "operationId": "health_health_get", "parameters": [{"required": true, "schema": {"title": "X-Inge4-Api-Key", "type": "string"}, "name": "x-inge4-api-key", "in": "header"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/app/access_tokens/": {"post": {"summary": "Sign Via App Step 1", "operationId": "sign_via_app_step_1_app_access_tokens__post", "parameters": [{"required": true, "schema": {"title": "X-Inge4-Api-Key", "type": "string"}, "name": "x-inge4-api-key", "in": "header"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/BSNRetrievalToken"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/app/paper/": {"post": {"summary": "Sign Via Inge3", "operationId": "sign_via_inge3_app_paper__post", "parameters": [{"required": true, "schema": {"title": "X-Inge4-Api-Key", "type": "string"}, "name": "x-inge4-api-key", "in": "header"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/StatementOfVaccination"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaperProofOfVaccination"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/app/sign/": {"post": {"summary": "Sign Via App Step 2", "operationId": "sign_via_app_step_2_app_sign__post", "parameters": [{"required": true, "schema": {"title": "X-Inge4-Api-Key", "type": "string"}, "name": "x-inge4-api-key", "in": "header"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/StatementOfVaccination"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MobileAppProofOfVaccination"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"BSNRetrievalToken": {"title": "BSNRetrievalToken", "required": ["access_resource"], "type": "object", "properties": {"access_resource": {"title": "Access Resource", "type": "string", "description": "XYZ"}}}, "DomesticDynamicProof": {"title": "DomesticDynamicProof", "required": ["c", "e_response"], "type": "object", "properties": {"c": {"title": "C", "type": "string", "example": "tHk+nswA/VSgQR41o+NlPEZUlBCdVbV7IK50/lrK0jo="}, "e_response": {"title": "E Response", "type": "string", "example": "PfjLNp/UBFogQb88UQEArTQj4/mkg6zTFOg0UUGVsa9EQBCaZYG07AVgzrr7X5CterCGYcbV6DZEqCoP/UyknzL2fOeC5f1kqp/W69GIRqVFV2Cyjz6aITNQQBaiM4KkM21Cs2i32cmsPMC1GSW72ORpU0mPmP1RzWf0MuUdIQ=="}}}, "DomesticDynamicQr": {"title": "DomesticDynamicQr", "required": ["proof", "signature"], "type": "object", "properties": {"proof": {"$ref": "#/components/schemas/DomesticDynamicProof"}, "signature": {"$ref": "#/components/schemas/DomesticDynamicSignature"}}}, "DomesticDynamicQrResponse": {"title": "DomesticDynamicQrResponse", "required": ["attributes", "ism"], "type": "object", "properties": {"attributes": {"title": "Attributes", "type": "array", "items": {"type": "string"}}, "ism": {"$ref": "#/components/schemas/DomesticDynamicQr"}}, "description": "{\n    \"ism\": {\n        \"proof\": {\n            \"c\": \"tHk+nswA/VSgQR41o+NlPEZUlBCdVbV7IK50/lrK0jo=\",\n            \"e_response\": \"PfjLNp/UBFogQb88UQEArTQj4/mkg6zTFOg0UUGVsa9EQBCaZYG07AVgzrr7X5CterCGYcbV6DZEqCoP/UyknzL2f\n            OeC5f1kqp/W69GIRqVFV2Cyjz6aITNQQBaiM4KkM21Cs2i32cmsPMC1GSW72ORpU0mPmP1RzWf0MuUdIQ==\"\n        },\n        \"signature\": {\n            \"A\": \"ONKxjtJQUqMXolC0OltT2JWPua/7XqcFSuuCxNo25jh71C2S98JDYlSc2rkVC0G/RTNdY/gPfRWfzNOGIJvxSS3zRrnPBLFvG6\n            Zo4rzIjsF+sQoIeUE/FNSAHTi7yART7MJIEbkHxn95Jw/dG8hTppbt1ALYpTXdKao6yFKRF0E=\",\n            \"e\": \"EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa2ORygGdQClk2+FZuH\n            l/\",\n            \"v\": \"DJurgTXsDZgXHihHYpXwH81gmH+gan22XUPT07SiwuGdqNi1ikHDcXWSuf7Yae+nSIWh3fyIEoyIdNvloycrljVU7cClklrOLA\n            sOyU45W07cjbBQATQmavoBsyZZaG/b/4aJFhfcuYHv6J72/8rm1UVqyk0i/0ROw/JukxbOFwkXm6FpfF2XUf3HvnSgEAbxPebxm5UKej\n            7DxXx3fpHdELMKiyBICQjN0r6MwCU3PhbynISrjdbQsveeBh9id3O/kFISqMANSp6QmNPZ0jd4pOivOLFS\",\n            \"KeyshareP\": null\n        }\n    },\n    \"attributes\": [\"\", \"\"]\n}"}, "DomesticDynamicSignature": {"title": "DomesticDynamicSignature", "required": ["A", "e", "v"], "type": "object", "properties": {"A": {"title": "A", "type": "string", "example": "ONKxjtJQUqMXolC0OltT2JWPua/7XqcFSuuCxNo25jh71C2S98JDYlSc2rkVC0G/RTNdY/gPfRWfzNOGIJvxSS3zRrnPBLFvG6Zo4rzIjsF+sQoIeUE/FNSAHTi7yART7MJIEbkHxn95Jw/dG8hTppbt1ALYpTXdKao6yFKRF0E="}, "e": {"title": "E", "type": "string", "example": "EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa2ORygGdQClk2+FZuHl/"}, "v": {"title": "V", "type": "string", "example": "tHk+nswA/VSgQR41o+NlPEZUlBCdVbV7IK50/lrK0jo="}, "KeyshareP": {"title": "Keysharep", "type": "string", "example": "Todo: what?"}}}, "DomesticProofCredentialItem": {"title": "DomesticProofCredentialItem", "required": ["id", "ccm"], "type": "object", "properties": {"id": {"title": "Id", "type": "integer"}, "ccm": {"$ref": "#/components/schemas/DomesticDynamicQrResponse"}}}, "DomesticProofMessage": {"title": "DomesticProofMessage", "required": ["issuedAt", "validTo", "origin", "credentials"], "type": "object", "properties": {"issuedAt": {"title": "Issuedat", "type": "integer", "description": "Timestamp of the beginning of the first signature.", "example": 1623683522}, "validTo": {"title": "Validto", "type": "integer", "description": "Timestamp of the end of the last signature.", "example": 1623683522}, "origin": {"allOf": [{"$ref": "#/components/schemas/OriginOfProof"}], "description": "For the UI: the reason why a signature has been issued. Result of eligbility."}, "credentials": {"title": "Credentials", "type": "array", "items": {"$ref": "#/components/schemas/DomesticProofCredentialItem"}}}, "description": "{\n    # Samenvatting.\n    \"issuedAt\": 1621264322,\n    \"validTo\": 1623683522,\n    # wat heeft de rule engine bepaald om dit ding te bouwen.\n    # De rule engine moet dus dit gaan teruggeven.\n    \"origin\": [\"vaccination\", \"test\"],\n    \"credentials\": [\n        {\"id\": 1, \"ccm\": \"Het objectje met proof en signature\"},\n        {\"id\": 2, \"ccm\": \"ccm here\"},\n        {\"id\": 3, \"ccm\": \"ccm here\"},\n        {\"id\": 4, \"ccm\": \"ccm here\"},\n        {\"id\": 5, \"ccm\": \"ccm here\"},\n        {\"id\": 6, \"ccm\": \"ccm here\"}\n    ]\n}"}, "DomesticStaticQrAttributes": {"title": "DomesticStaticQrAttributes", "required": ["sampleTime", "firstNameInitial", "lastNameInitial", "birthDay", "birthMonth", "isSpecimen"], "type": "object", "properties": {"sampleTime": {"title": "Sampletime", "type": "string", "description": "Unix Timestamp", "example": "1619092800"}, "firstNameInitial": {"title": "Firstnameinitial", "type": "string", "description": "First letter of the first name of this person", "example": "E"}, "lastNameInitial": {"title": "Lastnameinitial", "type": "string", "description": "First letter of the last name of this person", "example": "J"}, "birthDay": {"title": "Birthday", "type": "string", "description": "Day (not date!) of birth.", "example": "27"}, "birthMonth": {"title": "Birthmonth", "type": "string", "description": "Month (not date!) of birth.", "example": "12"}, "isPaperProof": {"title": "Ispaperproof", "type": "string", "default": "1", "example": "1"}, "isSpecimen": {"title": "Isspecimen", "type": "string", "description": "Boolean cast as string, if this is a testcase. To facilitate testing in production.", "example": "0"}}}, "DomesticStaticQrCode": {"title": "DomesticStaticQrCode", "required": ["data", "attributesIssued"], "type": "object", "properties": {"data": {"title": "Data", "type": "string", "example": "TF+*JY+21:6 T%NCQ+ PVHDDP+Z-WQ8-TG/O3NLFLH3:FH:O.KCG9F997/..."}, "attributesIssued": {"$ref": "#/components/schemas/DomesticStaticQrAttributes"}}}, "DomesticStaticQrResponse": {"title": "DomesticStaticQrResponse", "required": ["qr", "status", "error"], "type": "object", "properties": {"qr": {"$ref": "#/components/schemas/DomesticStaticQrCode"}, "status": {"title": "Status", "type": "string", "example": "ok"}, "error": {"title": "Error", "type": "integer", "example": 0}}, "description": "{\n    \"qr\": {\n        \"data\": \"TF+*JY+21:6 T%NCQ+ PVHDDP+Z-WQ8-TG/O3NLFLH3:FHS-RIFVQ:UV57K/.:R6+.MX:U$HIQG3FVY%6NIN0:O.KCG9F997/\",\n        \"attributesIssued\": {\n            \"sampleTime\": \"1619092800\",\n            \"firstNameInitial\": \"B\",\n            \"lastNameInitial\": \"B\",\n            \"birthDay\": \"27\",\n            \"birthMonth\": \"4\",\n            \"isSpecimen\": \"1\",\n            \"isPaperProof\": \"1\",\n        }\n    },\n    \"status\": \"ok\",\n    \"error\": 0\n}"}, "EUGreenCard": {"title": "EUGreenCard", "required": ["origins", "credential"], "type": "object", "properties": {"origins": {"title": "Origins", "type": "array", "items": {"$ref": "#/components/schemas/EUGreenCardOrigins"}}, "credential": {"title": "Credential", "type": "string"}}}, "EUGreenCardOrigins": {"title": "EUGreenCardOrigins", "required": ["type", "eventTime", "expirationTime"], "type": "object", "properties": {"type": {"title": "Type", "type": "string"}, "eventTime": {"title": "Eventtime", "type": "string"}, "expirationTime": {"title": "Expirationtime", "type": "string"}}}, "Event": {"title": "Event", "required": ["type", "unique", "data"], "type": "object", "properties": {"type": {"allOf": [{"$ref": "#/components/schemas/EventType"}], "description": "Type of event"}, "unique": {"title": "Unique", "type": "string", "description": "todo", "format": "uuid", "example": "ee5afb32-3ef5-4fdf-94e3-e61b752dbed9"}, "isSpecimen": {"title": "Isspecimen", "type": "boolean", "default": "Boolean as an integer: 0 or 1."}, "data": {"title": "Data", "anyOf": [{"$ref": "#/components/schemas/vaccination"}, {"$ref": "#/components/schemas/test"}, {"$ref": "#/components/schemas/recovery"}], "description": "Structure is based on the 'type' discriminator."}}}, "EventType": {"title": "EventType", "enum": ["recovery", "test", "vaccination"], "type": "string", "description": "An enumeration."}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "Holder": {"title": "Holder", "required": ["firstName", "lastName", "birthDate"], "type": "object", "properties": {"firstName": {"title": "Firstname", "type": "string", "example": "Herman"}, "lastName": {"title": "Lastname", "type": "string", "example": "Acker"}, "birthDate": {"title": "Birthdate", "type": "string", "description": "ISO 8601 date string (large to small, YYYY-MM-DD)", "example": "1970-01-01"}}}, "MobileAppProofOfVaccination": {"title": "MobileAppProofOfVaccination", "required": ["domesticGreencard"], "type": "object", "properties": {"domesticGreencard": {"$ref": "#/components/schemas/DomesticProofMessage"}, "euGreencards": {"title": "Eugreencards", "type": "array", "items": {"$ref": "#/components/schemas/EUGreenCard"}}}}, "OriginOfProof": {"title": "OriginOfProof", "enum": ["vaccination", "test", "recovery", ""], "type": "string", "description": "An enumeration."}, "PaperProofOfVaccination": {"title": "PaperProofOfVaccination", "type": "object", "properties": {"domesticProof": {"title": "Domesticproof", "type": "array", "items": {"$ref": "#/components/schemas/DomesticStaticQrResponse"}, "description": "Paper vaccination"}, "euProofs": {"title": "Euproofs", "type": "array", "items": {"$ref": "#/components/schemas/EUGreenCard"}}}}, "StatementOfVaccination": {"title": "StatementOfVaccination", "required": ["providerIdentifier", "holder", "events"], "type": "object", "properties": {"protocolVersion": {"title": "Protocolversion", "type": "string", "description": "The semantic version of this API", "default": 3.0}, "providerIdentifier": {"title": "Provideridentifier", "type": "string", "description": "todo"}, "status": {"title": "Status", "type": "string", "description": "todo, enum probably", "default": "complete"}, "holder": {"$ref": "#/components/schemas/Holder"}, "events": {"title": "Events", "type": "array", "items": {"$ref": "#/components/schemas/Event"}}}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"type": "string"}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}, "recovery": {"title": "recovery", "required": ["sampleDate", "validFrom", "validUntil"], "type": "object", "properties": {"sampleDate": {"title": "Sampledate", "type": "string", "example": "2021-01-01"}, "validFrom": {"title": "Validfrom", "type": "string", "example": "2021-01-12"}, "validUntil": {"title": "Validuntil", "type": "string", "example": "2021-06-30"}}}, "test": {"title": "test", "required": ["sampleDate", "resultDate", "negativeResult", "facility", "type", "name", "manufacturer"], "type": "object", "properties": {"sampleDate": {"title": "Sampledate", "type": "string", "example": "2021-01-01"}, "resultDate": {"title": "Resultdate", "type": "string", "example": "2021-01-02"}, "negativeResult": {"title": "Negativeresult", "type": "boolean", "example": true}, "facility": {"title": "Facility", "type": "string", "example": "GGD XL Amsterdam"}, "type": {"title": "Type", "type": "string", "example": "???"}, "name": {"title": "Name", "type": "string", "example": "???"}, "manufacturer": {"title": "Manufacturer", "type": "string", "example": "1232"}}}, "vaccination": {"title": "vaccination", "required": ["date", "brand"], "type": "object", "properties": {"date": {"title": "Date", "type": "string", "example": "2021-01-01"}, "hpkCode": {"title": "Hpkcode", "type": "string", "description": "hpkcode.nl, will be used to fill EU fields", "example": "2924528"}, "type": {"title": "Type", "type": "string", "description": "Can be left blank if hpkCode is entered.", "example": "1119349007"}, "manufacturer": {"title": "Manufacturer", "type": "string", "description": "Can be left blank if hpkCode is entered.", "example": "ORG-100030215"}, "brand": {"title": "Brand", "type": "string", "example": "EU/1/20/1507"}, "completedByMedicalStatement": {"title": "Completedbymedicalstatement", "type": "boolean", "description": "If this vaccination is enough to be fully vaccinated"}, "country": {"title": "Country", "type": "string", "description": "Optional iso 3166 3-letter country field, will be set to NLD if left out. Can be used if shot was administered abroad", "default": "NLD", "example": "NLD"}, "doseNumber": {"title": "Dosenumber", "type": "integer", "description": "will be based on business rules / brand info if left out", "example": 1}, "totalDoses": {"title": "Totaldoses", "type": "integer", "description": "will be based on business rules / brand info if left out", "example": 2}}, "description": "When supplying data and you want to make it easy:\n- use a HPK Code and just the amount of events.\n\nnot use a HPK and then supply non-normalized names and doseNumber/totalDoses: this makes the\nlogic evermore complex and prone to errors when incorrectly normalizing input."}}}}
{"openapi": "3.0.2", "info": {"title": "FastAPI", "version": "0.1.0"}, "paths": {"/health": {"get": {"summary": "Health Request", "description": "Show the system health and status of internal dependencies", "operationId": "health_request_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/": {"get": {"summary": "Health Request", "description": "Show the system health and status of internal dependencies", "operationId": "health_request__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/app/access_tokens/": {"post": {"summary": "Get Access Tokens Request", "description": "Creates unomi events based on DigiD BSN retrieval token.\n.. image:: ./docs/sequence-diagram-unomi-events.png\n\n:param request: AccessTokensRequest\n:return:", "operationId": "get_access_tokens_request_app_access_tokens__post", "parameters": [{"required": false, "schema": {"title": "Authorization", "type": "string"}, "name": "authorization", "in": "header"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Get Access Tokens Request App Access Tokens  Post", "type": "array", "items": {"$ref": "#/components/schemas/EventDataProviderJWT"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/app/prepare_issue/": {"post": {"summary": "App Prepare Issue Request", "operationId": "app_prepare_issue_request_app_prepare_issue__post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrepareIssueResponse"}}}}}}}, "/app/credentials/": {"post": {"summary": "App Credential Request", "operationId": "app_credential_request_app_credentials__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CredentialsRequestData"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MobileAppProofOfVaccination"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"CMSSignedDataBlob": {"title": "CMSSignedDataBlob", "required": ["signature", "payload"], "type": "object", "properties": {"signature": {"title": "Signature", "type": "string", "description": "CMS signature"}, "payload": {"title": "Payload", "type": "string", "description": "CMS payload in base64"}}}, "CredentialsRequestData": {"title": "CredentialsRequestData", "required": ["events", "stoken", "issueCommitmentMessage"], "type": "object", "properties": {"events": {"title": "Events", "type": "array", "items": {"$ref": "#/components/schemas/CMSSignedDataBlob"}}, "stoken": {"title": "Stoken", "type": "string", "format": "uuid", "example": "a019e902-86a0-4b1d-bff0-5c89f3cfc4d9"}, "issueCommitmentMessage": {"title": "Issuecommitmentmessage", "type": "string"}}}, "DomesticGreenCard": {"title": "DomesticGreenCard", "required": ["origins", "createCredentialMessages"], "type": "object", "properties": {"origins": {"title": "Origins", "type": "array", "items": {"$ref": "#/components/schemas/GreenCardOrigin"}}, "createCredentialMessages": {"title": "Createcredentialmessages", "type": "string"}}}, "EUGreenCard": {"title": "EUGreenCard", "required": ["origins", "credential"], "type": "object", "properties": {"origins": {"title": "Origins", "type": "array", "items": {"$ref": "#/components/schemas/GreenCardOrigin"}}, "credential": {"title": "Credential", "type": "string"}}}, "EventDataProviderJWT": {"title": "EventDataProviderJWT", "required": ["provider_identifier", "unomi", "event"], "type": "object", "properties": {"provider_identifier": {"title": "Provider Identifier", "type": "string"}, "unomi": {"title": "Unomi", "type": "string", "description": "JWT containing unomi data: iss aud iat nbf exp and identity_hash."}, "event": {"title": "Event", "type": "string", "description": "JWT containing event data: same as unomi + nonce and encrypted_bsn."}}}, "GreenCardOrigin": {"title": "GreenCardOrigin", "required": ["type", "eventTime", "expirationTime", "validFrom"], "type": "object", "properties": {"type": {"title": "Type", "type": "string"}, "eventTime": {"title": "Eventtime", "type": "string"}, "expirationTime": {"title": "Expirationtime", "type": "string"}, "validFrom": {"title": "Validfrom", "type": "string"}}}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "MobileAppProofOfVaccination": {"title": "MobileAppProofOfVaccination", "type": "object", "properties": {"domesticGreencard": {"$ref": "#/components/schemas/DomesticGreenCard"}, "euGreencards": {"title": "Eugreencards", "type": "array", "items": {"$ref": "#/components/schemas/EUGreenCard"}}}}, "PrepareIssueResponse": {"title": "PrepareIssueResponse", "required": ["stoken", "prepareIssueMessage"], "type": "object", "properties": {"stoken": {"title": "Stoken", "type": "string", "format": "uuid", "example": "a019e902-86a0-4b1d-bff0-5c89f3cfc4d9"}, "prepareIssueMessage": {"title": "Prepareissuemessage", "type": "string", "description": "A Base64 encoded prepare_issue_message", "example": "eyJpc3N1ZXJQa0lkIjoiVFNULUtFWS0wMSIsImlzc3Vlck5vbmNlIjoiaDJvQlJva1A2UTJSQXB3Sk9LdStkQT09IiwiY3JlZGVudGlhbEFtb3VudCI6Mjh9"}}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"type": "string"}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}}}}